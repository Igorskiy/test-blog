{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/MyLayout';\nimport { sendPostOnServer, getPostsFromServer } from '../../api';\nimport { setPostTitle, setPostBody, setPosts } from '../../store/actions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Link from 'next/link';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport { Button } from '@material-ui/core';\nconst useStyles = makeStyles(theme => createStyles({\n  textField: {\n    minWidth: '60%',\n    '& .outlined-textarea': {\n      minHeight: '300px'\n    }\n  },\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginTop: '30vh',\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: 200\n    }\n  }\n}));\n\nconst New = () => {\n  const classes = useStyles();\n  const postsBody = useSelector(state => state.inputs.postBody);\n  const postsTitle = useSelector(state => state.inputs.postTitle);\n  const dispatch = useDispatch();\n\n  const addNewPost = async (title, body) => {\n    if (title.trim() && body.trim()) {\n      await sendPostOnServer(title, body);\n      dispatch(setPostBody(''));\n      dispatch(setPostTitle(''));\n      dispatch(setPosts((await getPostsFromServer())));\n    } else alert('Please, fill all input fields');\n  };\n\n  return __jsx(Layout, null, __jsx(\"form\", {\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\"\n  }, __jsx(TextField, {\n    id: \"outlined-textarea\",\n    className: classes.textField,\n    defaultValue: postsTitle,\n    placeholder: \"add name for your post\",\n    onChange: e => dispatch(setPostTitle(e.target.value)),\n    label: \"Title\",\n    multiline: true,\n    variant: \"outlined\"\n  }), __jsx(TextField, {\n    id: \"outlined-multiline-flexible\",\n    className: classes.textField,\n    label: \"Text\",\n    multiline: true,\n    rowsMax: \"100\",\n    fullWidth: true,\n    placeholder: \"what is on your mind?\",\n    defaultValue: postsBody,\n    onChange: e => dispatch(setPostBody(e.target.value)),\n    variant: \"outlined\"\n  }), __jsx(Link, {\n    href: \"/\"\n  }, __jsx(Button, {\n    onClick: () => addNewPost(postsTitle, postsBody)\n  }, \"Submit\"))));\n};\n\nexport default New;","map":null,"metadata":{},"sourceType":"module"}